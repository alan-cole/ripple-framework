import {
  Canvas,
  Meta,
  Story,
  ArgsTable
} from '@storybook/addon-docs'
import RplCard from './card.vue'
import { RplCardTypes } from './constants'
import { a11yStoryCheck } from './../../../.storybook/interactions.js'

export const SingleTemplate = (args) => ({
  components: { RplCard },
  setup() {
    return { args }
  },
  template: `
  <RplCard v-bind="args">
    <template v-if="${'upper' in args}" v-slot:upper>${args.upper}</template>
    <template v-if="${'meta' in args}" v-slot:meta>${args.meta}</template>
    <template v-if="${'title' in args}" v-slot:title>${args.title}</template>
    <template v-if="${'default' in args}" v-slot>${args.default}</template>
    <template v-if="${'lower' in args}" v-slot:lower>${args.lower}</template>
  </RplCard>
  <RplCard v-bind="args">
    <template v-if="${'upper' in args}" v-slot:upper>${args.upper}</template>
    <template v-if="${'meta' in args}" v-slot:meta>${args.meta}</template>
    <template v-if="${'title' in args}" v-slot:title>${args.title}</template>
    <template v-if="${'default' in args}" v-slot>${args.default}</template>
    <template v-if="${'lower' in args}" v-slot:lower>${args.lower}</template>
  </RplCard>
  <RplCard v-bind="args">
    <template v-if="${'upper' in args}" v-slot:upper>${args.upper}</template>
    <template v-if="${'meta' in args}" v-slot:meta>${args.meta}</template>
    <template v-if="${'title' in args}" v-slot:title>${args.title}</template>
    <template v-if="${'default' in args}" v-slot>${args.default}</template>
    <template v-if="${'lower' in args}" v-slot:lower>${args.lower}</template>
  </RplCard>
  <RplCard v-bind="args">
    <template v-if="${'upper' in args}" v-slot:upper>${args.upper}</template>
    <template v-if="${'meta' in args}" v-slot:meta>${args.meta}</template>
    <template v-if="${'title' in args}" v-slot:title>${args.title}</template>
    <template v-if="${'default' in args}" v-slot>${args.default}</template>
    <template v-if="${'lower' in args}" v-slot:lower>${args.lower}</template>
  </RplCard>
  `
})

<Meta title='Components/Navigation/Card' component={RplCard} />

# Card

<ArgsTable of={RplCard} />

## Promo

<Canvas>
  <Story
    name='Promo'
    play={a11yStoryCheck}
    args={{
      url: 'https://www.vic.gov.au',
      upper: `
        <div class="rpl-card__media">
          <img src="${svgPlaceholder({ width: 320, height: 240, bgColor: '#267', fgColor: '#378' })}" alt="">
        </div>
      `,
      meta: '<div class="rpl-card__meta">META</div>',
      title: '<h3 class="rpl-card__cta rpl-type-h3 rpl-u-focusable" role="button" tabindex="0">Card title</h3>',
      default: '<p>This is the main body of the card.</p>'
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

## Highlight

<Canvas>
  <Story
    name='Highlight'
    play={a11yStoryCheck}
    args={{
      type: 'highlight',
      upper: `
        <h3 class="rpl-card__cta rpl-type-h3 rpl-u-focusable" role="button" tabindex="0">Card title</h3>
      `,
      url: 'https://www.vic.gov.au',
      default: '<p>This is the main body of the card.</p>',
      lower: '<small>(footer)</small>'
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>
