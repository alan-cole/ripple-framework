import {
  Canvas,
  Meta,
  Story,
  ArgsTable
} from '@storybook/addon-docs'
import RplLayout from './layout.vue'
import RplFooter from './../footer/footer.vue'
import RplContent from './../content/content.vue'
import RplContentBody from './../content/testcontent.html?raw'
import RplAccordion from './../accordion/accordion.vue'
import RplBreadcrumbs from './../breadcrumbs/breadcrumbs.vue'
import RplVerticalNav from './../vertical-nav/vertical-nav.vue'
import RplNavCard from './../card/nav-card.vue'
import { RplAccordionItems } from './../accordion/constants.ts'
import RplTimeline from './../timeline/timeline.vue'
import RplContactUs from './../contact-us/contact-us.vue'
import RplPageComponent from './page-component.vue'
import RplInPageNavigation from './../in-page-navigation/in-page-navigation.vue'
import RplAlert from './../alert/alert.vue'
import RplNavPrimary from './../nav-primary/nav-primary.vue'
import { a11yStoryCheck } from './../../../stories/interactions.js'
import sbSpacer from './../../../stories/components/spacer.vue'
import { verticalNavItems } from './storydata.ts'


export const ExampleTemplate = (args) => ({
  components: { RplLayout, sbSpacer },
  setup() {
    return { args }
  },
  template: `
    <RplLayout v-bind="args" >
      <template #aboveHeader>
        <sb-spacer color="pink">#aboveHeader - Alerts go here</sb-spacer>
      </template>
      <template #header>
        <sb-spacer color="lightblue">#header - Nav primary goes here</sb-spacer>
      </template>
      <template #belowHeader>
        <sb-spacer color="lightgreen">#belowHeader - Breadcrumbs go here</sb-spacer>
      </template>
      <template #aboveBody>
        <sb-spacer color="lightsalmon">#aboveBody - Campaign banner goes here</sb-spacer>
      </template>
      <template #body>
        <sb-spacer color="lightpurple">#body components go here, they are really long and take up lots of space</sb-spacer>
      </template>
      <template #sidebar>
        <sb-spacer color="lavender">#sidebar - Sidebar goes here</sb-spacer>
      </template>
      <template #belowBody>
        <sb-spacer color="lightyellow">#belowBody - Content rating form goes here</sb-spacer>
      </template>
      <template #footer>
        <sb-spacer color="aqua">#footer - Site footer goes here</sb-spacer>
      </template>
    </RplLayout>
  `
})

export const PageLayoutContentTemplate = (args) => ({
  components: {
    RplLayout,
    RplAlert,
    RplContent,
    RplAccordion,
    RplTimeline,
    RplContactUs,
    RplInPageNavigation,
    RplPageComponent,
    RplVerticalNav,
    RplBreadcrumbs,
    RplNavPrimary,
    RplFooter
  },
  setup() {
    return {
      args,
      RplAccordionItems,
      RplContentBody,
      verticalNavItems
    }
  },
  template: `
    <RplLayout v-bind="args" >
      <template #aboveHeader>
        <RplAlert
          variant="information"
          iconName="icon-information-circle-filled"
          message="An informative message."
          linkText="Find out more"
          linkUrl="/"
          alertId="info-1"
        />
      </template>
      <template #primaryNav>
        <RplNavPrimary></RplNavPrimary>
      </template>
      <template #breadcrumbs>
        <RplBreadcrumbs :items="[{ label: 'Home', url: '/' }, { label: 'Page title', url: '/page-title' }]"></RplBreadcrumbs>
      </template>
      <template #body>
        <RplPageComponent>
          <RplContent :html="RplContentBody" />
        </RplPageComponent>
        <RplPageComponent title="Accordion heading">
          <RplAccordion :items="RplAccordionItems" />
        </RplPageComponent>
      </template>
      <template #sidebar>
        <RplContactUs
          :address="{
            name: 'First Name Last Name',
            department: 'Department Name',
            street: 'Address Line, Suburb, 3019'
          }"
        />
        <RplVerticalNav
          title="Section name"
          :items="verticalNavItems"
        />
      </template>
      <template #footer>
        <RplFooter />
      </template>
    </RplLayout>
  `
})
export const PageLayoutNavigationTemplate = (args) => ({
  components: {
    RplLayout,
    RplAlert,
    RplPageComponent,
    RplNavCard,
    RplNavPrimary,
    RplBreadcrumbs,
    RplFooter
  },
  setup() {
    const img = svgPlaceholder({ width: 1200, height: 800, bgColor: '#e76', fgColor: '#a31' })
    return { args, RplNavCard, img }
  },
  template: `
    <RplLayout v-bind="args" >
      <template #primaryNav>
        <RplNavPrimary></RplNavPrimary>
      </template>
      <template #breadcrumbs>
        <RplBreadcrumbs :items="[{ label: 'Home', url: '/' }, { label: 'Page title', url: '/page-title' }]"></RplBreadcrumbs>
      </template>
      <template #body>
        <RplPageComponent>
          <ul class="rpl-grid">
            <RplNavCard
              v-for="index of 6"
              :key="index"
              el="li"
              class="rpl-col-4"
              :image="img"
              title="Card title"
            >
            <p>Funding for public-facing small businesses to purchase equipment and upgrades to improve ventilation and reduce the spread of COVID-19 and boost customer confidence.</p>
            </RplNavCard>
          </ul>
        </RplPageComponent>
      </template>
      <template #footer>
        <RplFooter />
      </template>
    </RplLayout>
  `
})

<Meta
  title='Core/Templates'
  component={RplLayout}
  parameters={{
    layout: 'fullscreen'
  }}
  args={{
    variant: 'alt'
  }}
/>

# Layout

<ArgsTable of={RplLayout} />

<Canvas>
  <Story
    name='Example template'
    play={a11yStoryCheck}
  >
    {ExampleTemplate.bind()}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Landing page / Content'
    play={a11yStoryCheck}
    args={{
      variant: 'default',
      footer: {
        links: [
          { text: 'Privacy', url: '#'}
        ]
      },
      header: {
      },
      breadcrumbs: {
        items: [
          { label: 'Home', url: '/' },
          { label: 'Test page', url: '/test-page' },
        ]
      }
    }}
  >
    {PageLayoutContentTemplate.bind()}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Landing page / Navigation'
    play={a11yStoryCheck}
    args={{
      variant: 'alt',
      footer: {
        links: [
          { text: 'Privacy', url: '#'}
        ]
      },
      header: {
      },
      breadcrumbs: {
        items: [
          { label: 'Home', url: '/' },
          { label: 'Test page', url: '/test-page' },
        ]
      }
    }}
  >
    {PageLayoutNavigationTemplate.bind()}
  </Story>
</Canvas>
