import { Meta, Canvas, Story } from '@storybook/addon-docs'
import rplSpacing from './../../../../tokens/settings/spacing.yaml'
import rplLayerStyles from './../../../../tokens/settings/layers.yaml'
import sbTokenTable from './../../../../.storybook/components/token-table.vue'
import sbTokenTableRow from './../../../../.storybook/components/token-row.vue'
import sbTokenTableCol from './../../../../.storybook/components/token-col.vue'
import sbTokenTableSwatch from './../../../../.storybook/components/token-swatch.vue'


export const SpacingTemplate = (args) => ({
  components: { sbTokenTable, sbTokenTableRow, sbTokenTableCol, sbTokenTableSwatch },
  setup() {
    const items = Object.keys(rplSpacing?.space).map(k => {
      return rplSpacing.space[k]
    })
    return {
      columns: ['Size (px)'],
      items
    }
  },
  template: `
    <sbTokenTable :columns="columns" >
      <sbTokenTableRow v-for="item in items" :key="item">
        <sbTokenTableCol style="margin-right: 20px;">{{item.value}}</sbTokenTableCol>
        <sbTokenTableCol style="margin-left: 0px;"><sbTokenTableSwatch :size="item.value" :color="item.color">{{item.value}}</sbTokenTableSwatch></sbTokenTableCol>
        <sbTokenTableCol style="margin-left: auto;">{{item.comment}}</sbTokenTableCol>
      </sbTokenTableRow>
    </sbTokenTable>
  `
});

export const BorderRadiusTemplate = (args) => ({
  components: { sbTokenTable, sbTokenTableRow, sbTokenTableCol, sbTokenTableSwatch },
  setup() {
    const items = Object.keys(rplLayerStyles?.border?.radius).map(k => {
      return {
        var: `--rpl-border-radius-${k}`,
        ...rplLayerStyles.border.radius[k]
      }
    })
    return {
      getBRExample: (item) => ({
        width: 'calc(var(--rpl-space-4) * 4)',
        height: 'var(--rpl-space-4)',
        border: `1px solid var(--rpl-clr-neutral-3)`,
        borderRadius: `var(${item.var})`
      }),
      columns: ['Style', '', 'Token'],
      items
    }
  },
  template: `
    <sbTokenTable :columns="columns" >
      <sbTokenTableRow v-for="item in items" :key="item">
        <sbTokenTableCol style="margin-right: 20px;">{{item.value}}</sbTokenTableCol>
        <sbTokenTableCol><div :style="getBRExample(item)"></div></sbTokenTableCol>
        <sbTokenTableCol style="margin-left: auto;">{{item.var}}</sbTokenTableCol>
      </sbTokenTableRow>
    </sbTokenTable>
  `
});

# Spacing

<Meta title='Tokens/Layout'/>

<Canvas>
  <Story name="Spacing">
    {SpacingTemplate.bind({})}
  </Story>
</Canvas>

# Border radius

<Canvas>
  <Story name="Border radius">
    {BorderRadiusTemplate.bind({})}
  </Story>
</Canvas>
