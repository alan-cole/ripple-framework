import {
  Canvas,
  Meta,
  Story,
  IconGallery,
  IconItem
} from '@storybook/addon-docs'
import RplIcon from './icon.vue'
import CarIcon from './../../assets/icons/custom/icon-car.svg?component'
import coreIconNames from './../../assets/icons/sprite.js'
import customIconImports from './../../assets/icons/custom.js'
const customIconNames = Object.keys(customIconImports)
export const SingleTemplate = (args) => ({
  components: { RplIcon },
  setup() {
    return { args }
  },
  template: '<RplIcon v-bind="args" />'
})

export const CoreGalleryTemplate = (args) => ({
  components: { RplIcon },
  setup() {
    const icons = coreIconNames
    return { args, icons }
  },
  template: `<ul style="display: flex; flex-wrap: wrap; list-style: none;"><li style="display: flex;
    flex-wrap: wrap;
    flex-direction: column;
    justify-content: center;
    box-sizing: border-box;
    text-align: center;
    border: 1px solid #e8ebee;
    border-radius: 4px;
    padding: 0.5rem;
    width: calc(12.5% - 1rem - 2px);
    margin: 0 0.5rem 0.5rem 0.5rem;" v-for="icon in icons"><rpl-icon style="margin: auto;" theme="accent" v-bind="args" :name="icon"></rpl-icon><p style="font-size: 12px; font-family: monospace;">{{icon}}</p></li></ul>`
})

export const OnDemandGalleryTemplate = (args) => ({
  components: { RplIcon },
  setup() {
    const icons = customIconNames
    return { args, icons }
  },
  template: `<ul style="display: flex; flex-wrap: wrap; list-style: none;"><li style="display: flex;
    flex-wrap: wrap;
    flex-direction: column;
    justify-content: center;
    box-sizing: border-box;
    text-align: center;
    border: 1px solid #e8ebee;
    border-radius: 4px;
    padding: 0.5rem;
    width: calc(12.5% - 1rem - 2px);
    margin: 0 0.5rem 0.5rem 0.5rem;" v-for="icon in icons"><rpl-icon style="margin: auto;" theme="accent" v-bind="args" :name="icon"></rpl-icon><p style="font-size: 12px; font-family: monospace;">{{icon}}</p></li></ul>`
})

<Meta title='Example/Icons' />

# Core Icon Sprite

Core icons are delivered through an SVG sprite, capturing all of the most commonly used icons and referenced via `<use>`. These should be a subset of the icons that are commonly used. Be carefult adding to this folder as these icons will be loaded on every page load, regardless if they are actually rendered on the page.

<Canvas>
  <Story
    name='Core Sprite'
    argTypes={{
      theme: {
        control: { type: 'select' },
        options: ['core', 'accent', 'neutral'],
        defaultValue: 'core'
      }
    }}
  >
    {CoreGalleryTemplate.bind()}
  </Story>
</Canvas>

# On Demand Icons

For icons that are part of the Core Ripple set but arent needed on every page, you can load them on demand and they will be inlined. They are not part of the SVG sprite and will not be loaded via `use`.

<Canvas>
  <Story
    name='On demand icons'
    argTypes={{
      theme: {
        control: { type: 'select' },
        options: ['core', 'accent', 'neutral'],
        defaultValue: 'core'
      }
    }}
  >
    {OnDemandGalleryTemplate.bind()}
  </Story>
</Canvas>

# Icon props

Core icons are delivered through an SVG sprite, capturing all of the most commonly used icons and referenced via `<use>`.

```
<svg class="rpl-icon rpl-icon--download" aria-hidden="true">
  <use xlink:href="#rpl-icon--download"></use>
</svg>
```

<Canvas>
  <Story
    name='Icon props'
    argTypes={{
      theme: {
        control: { type: 'select' },
        options: ['core', 'accent', 'neutral'],
        defaultValue: 'core'
      },
      name: {
        control: { type: 'select' },
        defaultValue: coreIconNames[0],
        options: [...coreIconNames, ...customIconNames]
      },
      size: {
        control: { type: 'select' },
        defaultValue: 's',
        options: ['s', 'm', 'l']
      }
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

# Custom icons

Custom icons are rendered directly inline. They are loaded on demand and are not part of the sprite.

<Canvas>
  <Story
    name='Custom icons'
    argTypes={{
      theme: {
        control: { type: 'select' },
        options: ['core', 'accent', 'neutral'],
        defaultValue: 'core'
      },
      name: {
        control: { type: 'select' },
        defaultValue: customIconNames[0],
        options: customIconNames
      }
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

# Icon as prop

Custom icons can be passed as a prop to facilitate client specific fonts. Simply import the SVG component (using Vite SVG Loader ?component query - )

```
<svg class="rpl-icon rpl-icon--facebook" aria-hidden="true">
  <path>
    ...
  </path>
</svg>
```

<Canvas>
  <Story name='Custom icon prop'>
    {() => {
      return {
        components: { RplIcon },
        setup() {
          return {
            CarIcon
          }
        },
        template: `<RplIcon :customIcon="CarIcon"></RplIcon>`
      }
    }}
  </Story>
</Canvas>
