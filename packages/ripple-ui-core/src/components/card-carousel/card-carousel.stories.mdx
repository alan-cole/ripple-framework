import {
  Canvas,
  Meta,
  Story,
  ArgsTable
} from '@storybook/addon-docs'
import RplCardCarousel from './card-carousel.vue'
import RplPromoCard from '../card/promo-card.vue'
import { a11yStoryCheck } from './../../../stories/interactions.js'

export const exampleData = [
  {
    title: 'Example title',
    topic: 'Environment',
    url: '#',
    content: 'Labore mollit labore tempor quis ex fugiat eu proident aliqua ipsum duis, fugiat eu proident aliqua.'
  },
  {
    title: 'Another title',
    topic: 'Health',
    url: '#',
    content: 'Elit adipisicing velit exercitation fugiat ex incididunt ullamco magna cupidatat dolore eiusmod sit amet.'
  },
  {
    title: 'A great title',
    topic: 'Community',
    url: '#',
    content: 'Consequat deserunt fugiat eu proident velit exercitation fugiat ex aliqua ipsumnisi dolore id eata quest.'
  }
]

export const randomContent = () => {
  return exampleData[Math.floor(Math.random() * exampleData.length)]
}
export const exampleContent = (number) => {
  return Array.from({ length: number }).map((_, i) => {
    const content = randomContent()
    return { ...content, title: `${content.title} - ${i + 1}`}
  })
}

export const SingleTemplate = (args) => ({
  components: { RplCardCarousel, RplPromoCard },
  setup() {
    return { args }
  },
  template: `<RplCardCarousel v-bind="args" />`
})

<Meta
  title='WIP/Components/Card carousel'
  component={RplCardCarousel}
/>

# Card carousel

<ArgsTable of={RplCardCarousel} />

<Canvas>
  <Story
    name='Default'
    play={a11yStoryCheck}
    args={{
      perView: 1,
      items: exampleContent(3)
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

# Card carousel with Breakpoints

<ArgsTable of={RplCardCarousel} />

<Canvas>
  <Story
    name='Breakpoints'
    play={a11yStoryCheck}
    args={{
      perView: { xs: 1, m: 2, l: 3 },
      items: exampleContent(6)
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

# Card carousel with single card

<ArgsTable of={RplCardCarousel} />

<Canvas>
  <Story
    name='Single Card'
    play={a11yStoryCheck}
    args={{
      items: exampleContent(1)
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>
