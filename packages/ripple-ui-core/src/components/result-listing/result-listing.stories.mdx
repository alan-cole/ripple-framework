import {
  Canvas,
  Meta,
  Story,
  ArgsTable
} from '@storybook/addon-docs'
import RplResultListing from './result-listing.vue'
import { a11yStoryCheck } from './../../../stories/interactions.js'
import RplList from '../list/list.vue'
import RplIcon from '../icon/icon.vue'

export const SingleTemplate = (args) => ({
  components: { RplResultListing, RplList, RplIcon },
  setup() {
    return { args }
  },
  template: `
    <div class="rpl-storybook__page-content">
      <RplResultListing
        v-for="(item, index) of args.number"
        :key="index"
        v-bind="args"
      >
        <template v-if="args.meta" #meta>
          ${args.meta}
        </template>
        <template v-if="args.details" #details>
          ${args.details}
        </template>
      </RplResultListing>
    </div>
  `
})

<Meta
  title='WIP/Components/Result listing'
  component={RplResultListing}
  argTypes={{
    number: {
      control: { type: 'select' },
      options: [1, 2, 4, 8]
    },
  }}
  args={{
    number: 3,
    title: 'The page title',
    url: 'https://www.vic.gov.au/victorian-government-directory',
    content: 'Adipisicing aliquip culpa dolor proident enim et tempor anim elit occaecat fugiat do dolor consectetur.',
    updated: '22 Dec 2022'
  }}
/>

# Result listing

<ArgsTable of={RplResultListing} />

<Canvas>
  <Story
    name='Result listing'
    play={a11yStoryCheck}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

## With Meta

This is an example showing the result listing with metadata

<Canvas>
  <Story
    name='With Meta'
    play={a11yStoryCheck}
    args={{
      meta: '<span class="rpl-result-listing__topic">Topic</span><span class="rpl-result-listing__published">10 Aug 2022</span>',
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

## With Details

This is an example showing the result listing with extra details

<Canvas>
  <Story
    name='With Details'
    play={a11yStoryCheck}
    args={{
      details: `<ul class="rpl-result-listing__detail-list">
        <li class="rpl-result-listing__detail-item">
          <RplIcon colour="default" name="icon-user-circle-filled" />
          <span>Department</span>
        </li>
        <li class="rpl-result-listing__detail-item">
          <RplIcon colour="default" name="icon-dollar-circle-filled" />
          <span>$10,000 - $20,000</span>
        </li>
        <li class="rpl-result-listing__detail-item">
          <RplIcon name="icon-cancel-circle-filled" colour="error" />
          <span>Closed</span>
        </li>
      </ul>`
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>
